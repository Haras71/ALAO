<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="Mobirise v5.8.14, mobirise.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="assets/images/logo.png" type="image/x-icon">
    <meta name="description" content="">

    <title>Gestão de Conteúdos</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
    <link rel="stylesheet" href="assets/dropdown/css/style.css">
    <link rel="stylesheet" href="assets/socicon/css/styles.css">
    <link rel="stylesheet" href="assets/theme/css/style.css">
    <link rel="preload" href="https://fonts.googleapis.com/css?family=Lexend:100,200,300,400,500,600,700,800,900&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lexend:100,200,300,400,500,600,700,800,900&display=swap">
    </noscript>
    <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css">
    <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
    <!--Calendar css and javascript-->
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.css' rel='stylesheet' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/locales-all.min.js'></script>
    
    <style>
        /* Custom CSS for Events */
        /* Custom CSS for Events */
        body {
            font-family: 'Lexend', sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }

        .navbar {
            background-color: #343a40;
        }

        .navbar .navbar-brand a {
            color: #fff;
            font-weight: bold;
        }

        .navbar .nav-item a {
            color: #d3d3d3;
            margin-right: 15px;
        }

        .navbar .nav-item a:hover {
            color: #fff;
        }

        .navbar-buttons .btn {
            color: #fff;
            background-color: #007bff;
            border: none;
        }

        .navbar-buttons .btn svg {
            margin-right: 5px;
        }

        .section {
            padding: 60px 0;
        }

        .section h2 {
            margin-bottom: 30px;
            font-weight: 600;
            text-align: center;
            color: #333;
        }

        #eventos .container {
            max-width: 900px;
        }

        .card {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 18px;
            overflow: hidden;
            transition: transform 0.2s;
            background: rgb(234, 231, 220);
        }

        .card:hover {
            transform: scale(1.02);
        }

        .card .card-body {
            padding: 20px;
        }

        .card-title {
            font-size: 1.5rem;
            color: #036136;
        }

        .card-text {
            padding-top: 10px;
            font-size: 0.8rem;
            color: #363535;
            font-family: 'Lexend', sans-serif;
            line-height: 20px;
        }

        .card .btn {
            margin-top: 5px;
            padding: 5px 20px;
            font-size: 0.7rem;
        }

        #eventModal .modal-content {
            border-radius: 8px;
        }

        #eventModal .modal-header {
            border-bottom: none;
        }

        #eventModal .modal-header .modal-title {
            font-size: 1.5rem;
            color: #343a40;
        }

        #eventModal .modal-body {
            padding: 20px;
        }

        #eventModal .form-control {
            margin-bottom: 15px;
            padding: 10px;
            font-size: 1rem;
        }

        #eventModal .btn {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 10px 20px;
            font-size: 1rem;
            border-radius: 4px;
        }

        #eventModal .btn:hover {
            background-color: #0056b3;
        }

        .footer7 {
            background-color: #343a40;
            padding: 20px 0;
            color: #d3d3d3;
            text-align: center;
        }

        .footer7 p {
            margin: 0;
            font-size: 0.9rem;
        }

    </style>
</head>

<body>
    <script>
        if (localStorage.getItem('loggedin') !== 'true') {
            window.location.href = 'login.html';
        }
    </script>

    <section data-bs-version="5.1" class="menu menu2 cid-uBDLLjzo2m" once="menu" id="menu2-o">
        <nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg">
            <div class="container">
                <div class="navbar-brand">
                    <span class="navbar-caption-wrap"><a class="navbar-caption text-primary display-7" href="index.html">Olas</a></span>
                </div>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbarSupportedContent" data-bs-target="#navbarSupportedContent" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                    <div class="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav nav-dropdown" data-app-modern-menu="true">
                        <li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="index.html">Início</a></li>
                        <li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="eventos.html">Eventos</a></li>
                        <li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="ondeestamos.html">Onde Estamos</a></li>
                        <li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="contatos.html">Contatos</a></li>
                    </ul>
                    
                </div>
            </div>
        </nav>
    </section>
    <section style="text-align: right; padding-bottom: 0px; padding-right: 5%;">
        <div class="navbar-buttons mbr-section-btn">
            <a class="btn btn-primary-outline display-4" href="eventos.html" id="logout">
                <button type="button" class="btn btn-secondary">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right-square-fill" viewBox="0 0 16 16">
                        <path d="M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1"></path>
                    </svg>
                </button>
            </a>
        </div>
    </section>
    <!-- Event Cards -->
    <section id="eventos">
        <div class="container">
            <div class="row" id="event-list">
                <!-- Events will be loaded here dynamically -->
            </div>
            <button class="btn btn-primary mt-4" onclick="addEventForm()">Adicionar Novo Evento</button>
        </div>
    </section>

    <!-- Event Form Modal -->
    <div class="modal fade" id="eventModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Novo Evento</h5>
                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="eventForm">
                        <div class="mb-3">
                            <label for="eventName" class="form-label">Nome do Evento</label>
                            <input type="text" class="form-control" id="eventName" required>
                        </div>
                        <div class="mb-3">
                            <label for="eventDate" class="form-label">Data do Evento</label>
                            <input type="date" class="form-control" id="eventDate" required>
                        </div>
                        <div class="mb-3">
                            <label for="eventDescription" class="form-label">Descrição do Evento</label>
                            <textarea class="form-control" id="eventDescription" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Salvar</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <section data-bs-version="5.1" class="footer7 cid-uBDLLmB6P1" once="footers" id="footer7-v">
        <div class="container">
            <div class="media-container-row align-center mbr-white">
                <div class="col-12">
                    <p class="mbr-text mb-0 mbr-fonts-style display-7">
                        © 2025 Olas - Todos os direitos reservados</p>
                </div>
            </div>
        </div>
    </section>
    <div class="modal fade" id="eventModal" tabindex="-1" aria-labelledby="eventModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="eventModalLabel">Edit Event</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="eventForm">
                <input type="hidden" id="eventId">
                <div class="mb-3">
                  <label for="eventName" class="form-label">Event Name</label>
                  <input type="text" class="form-control" id="eventName" required>
                </div>
                <div class="mb-3">
                  <label for="eventDate" class="form-label">Event Date</label>
                  <input type="date" class="form-control" id="eventDate" required>
                </div>
                <div class="mb-3">
                  <label for="eventDescription" class="form-label">Event Description</label>
                  <textarea class="form-control" id="eventDescription" rows="3" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Save Event</button>
              </form>
            </div>
          </div>
        </div>
      </div>
      
      <div class="modal fade" id="eventModal" tabindex="-1" aria-labelledby="eventModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="eventModalLabel">Edit Event</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form id="eventForm">
                <input type="hidden" id="eventId">
                <div class="mb-3">
                  <label for="eventName" class="form-label">Event Name</label>
                  <input type="text" class="form-control" id="eventName" required>
                </div>
                <div class="mb-3">
                  <label for="eventDate" class="form-label">Event Date</label>
                  <input type="date" class="form-control" id="eventDate" required>
                </div>
                <div class="mb-3">
                  <label for="eventDescription" class="form-label">Event Description</label>
                  <textarea class="form-control" id="eventDescription" rows="3" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Save Event</button>
              </form>
            </div>
          </div>
        </div>
      </div>
      

    
      <script>
        document.getElementById('logout').addEventListener('click', function (e) {
            e.preventDefault();
            localStorage.removeItem('loggedin');
            window.location.href = 'eventos.html';
        });
    
        // Function to load events from JSON file
        function loadEvents() {
            fetch('https://alao.onrender.com:3000/events')
                .then(response => response.json())
                .then(events => {
                    const eventList = document.getElementById('event-list');
                    eventList.innerHTML = ''; // Clear existing events
    
                    events.forEach(event => {
                        const eventCard = document.createElement('div');
                        eventCard.className = 'card mb-3';
                        eventCard.innerHTML = `
                            <div class="card-body">
                                <h5 class="card-title">${event.title}</h5>
                                <p class="card-text">${event.description}</p>
                                <!--<p class="card-text"><small class="text-muted">ID: ${event.id}</small></p>-->
                                <button class="btn btn-warning" onclick="editEventForm('${event.id}')">Editar</button>
                                <button class="btn btn-danger" onclick="deleteEvent('${event.id}')">Excluir</button>
                            </div>
                        `;
                        eventList.appendChild(eventCard);
                    });
                })
                .catch(error => console.error('Erro ao carregar eventos:', error));
        }
    
        // Function to show the event form modal for adding/editing an event
        function addEventForm() {
            const eventForm = document.getElementById('eventForm');
            eventForm.reset(); // Clear the form
            document.getElementById('eventId').value = '';
            const eventModal = new bootstrap.Modal(document.getElementById('eventModal'));
            eventModal.show();
        }
    
        // Function to handle the event form submission
        document.getElementById('eventForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const eventId = document.getElementById('eventId').value;
            const newEvent = {
                id: eventId || Date.now().toString(), // Ensure ID is generated if not present
                title: document.getElementById('eventName').value,
                date: document.getElementById('eventDate').value,
                description: document.getElementById('eventDescription').value
            };
    
            const method = eventId ? 'PUT' : 'POST';
            const url = eventId ? `https://alao.onrender.com:3000/events/${eventId}` : 'https://alao.onrender.com:3000/events';
    
            fetch(url, {
                method: method,
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(newEvent) // Make sure newEvent is being sent
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Error ${method === 'PUT' ? 'updating' : 'saving'} event`);
                }
                return response.text();
            })
            .then(message => {
                console.log(message);
                loadEvents(); // Reload events to reflect new addition or update
                const eventModal = bootstrap.Modal.getInstance(document.getElementById('eventModal'));
                eventModal.hide();
            })
            .catch(error => console.error(`Erro ao ${method === 'PUT' ? 'atualizar' : 'salvar'} evento:`, error));
        });
    
        // Function to delete an event
        function deleteEvent(eventId) {
            fetch(`https://alao.onrender.com:3000/events/${eventId}`, {
                method: 'DELETE',
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Error deleting event');
                }
                return response.text();
            })
            .then(message => {
                console.log(message);
                loadEvents(); // Reload events to reflect deletion
            })
            .catch(error => console.error('Erro ao excluir evento:', error));
        }
    
        // Function to load event data into the form for editing
        // Function to load event data into the form for editing
        function editEventForm(eventId) {
            fetch(`https://alao.onrender.com:3000/events/${eventId}`)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(event => {
                    document.getElementById('eventId').value = event.id;
                    document.getElementById('eventName').value = event.title;
                    document.getElementById('eventDate').value = event.date;
                    document.getElementById('eventDescription').value = event.description;
                    const eventModal = new bootstrap.Modal(document.getElementById('eventModal'));
                    eventModal.show();
                })
                .catch(error => console.error('Erro ao carregar evento para edição:', error));
        }

    
        // Load events when the page loads
        document.addEventListener('DOMContentLoaded', loadEvents);
    </script>
    
    
    
    
   
    
    
    
    
    <script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/smoothscroll/smooth-scroll.js"></script>
    <script src="assets/ytplayer/index.js"></script>
    <script src="assets/dropdown/js/navbar-dropdown.js"></script>
    <script src="assets/theme/js/script.js"></script>
</body>


</html>
